# 聊得得 (Liaodede)

## 项目简介

聊得得是一个基于Android平台的即时通讯应用，提供用户之间的文字、语音、视频聊天功能。该项目使用了多种第三方服务和框架来实现完整的社交聊天体验。

### 应用特色
- 实时文字聊天
- 高质量语音通话
- 流畅视频对话
- 朋友圈动态分享
- 个人钱包系统
- 任务奖励机制
- 智能消息推送

## 技术架构

### 核心技术栈
- **开发语言**: Java/Kotlin混合开发
- **最低支持版本**: Android 4.2 (API Level 17)
- **目标版本**: Android 9.0 (API Level 28)
- **构建工具**: Gradle
- **架构模式**: MVVM (Model-View-ViewModel)

### 主要第三方服务
1. **环信(Easemob)**: 提供即时通讯核心功能
   - 文字、语音、视频消息传输
   - 用户状态管理
   - 群组聊天功能
2. **个推(Getui)**: 实现消息推送服务
   - 全网推送能力
   - 多厂商适配（小米、华为、魅族、OPPO）
3. **阿里云热修复**: 支持应用热更新
   - 在线bug修复
   - 功能动态更新
4. **友盟**: 统计分析和社交分享功能
   - 用户行为分析
   - 社交平台分享
5. **支付宝**: 支付功能集成
   - 钱包充值
   - 任务奖励发放

### 核心框架和库
- **Retrofit + OkHttp**: 网络请求框架
- **RxJava**: 异步编程
- **Glide**: 图片加载和缓存
- **Room**: 本地数据库存储
- **DataBinding**: 数据绑定
- **ButterKnife**: 视图绑定
- **EventBus**: 组件间通信

### 核心功能模块
- 用户注册登录系统
- 即时文字聊天
- 语音/视频通话
- 朋友圈动态发布
- 钱包系统
- 任务系统
- 推送通知

## 项目结构

```
app/
├── src/
│   ├── main/
│   │   ├── java/                       # Java/Kotlin源代码
│   │   │   └── com.dyyj.idd.chatmore/  # 应用包名
│   │   │       ├── app/                # 应用入口和全局配置
│   │   │       ├── model/              # 数据模型和业务逻辑
│   │   │       ├── ui/                 # 界面相关代码
│   │   │       │   ├── main/           # 主界面模块
│   │   │       │   ├── user/           # 用户相关界面
│   │   │       │   ├── wallet/         # 钱包相关界面
│   │   │       │   ├── task/           # 任务系统界面
│   │   │       │   ├── plaza/          # 广场相关界面
│   │   │       │   └── dialog/         # 弹窗相关界面
│   │   │       └── receiver/           # 广播接收器
│   │   ├── res/                        # 资源文件
│   │   │   ├── drawable/               # 图片资源
│   │   │   ├── layout/                 # 布局文件
│   │   │   ├── values/                 # 字符串、颜色、样式等
│   │   │   └── mipmap/                 # 应用图标
│   │   └── AndroidManifest.xml         # 应用配置文件
│   └── test/                           # 测试代码
├── build.gradle                        # 模块构建配置
├── proguard-rules.pro                  # 代码混淆规则
└── libs/                               # 本地依赖库
    ├── hyphenatechat_3.4.2.jar         # 环信SDK
    ├── GetuiSDK2.12.5.0.jar            # 个推SDK
    └── alipaySdk-20180601.jar          # 支付宝SDK
```

## 主要功能页面

- 登录/注册界面
- 主界面(包含聊天、广场、钱包、我的等模块)
- 聊天界面
- 朋友圈界面
- 钱包界面
- 任务系统界面
- 设置界面

## 权限说明

应用需要以下主要权限:
- 网络访问权限
- 相机和麦克风权限(用于音视频通话)
- 存储读写权限
- 位置信息权限
- 联系人访问权限

## 配置要求

- Android 4.2及以上版本
- 网络连接
- 相机和麦克风硬件支持(用于音视频功能)

## 开发环境

### 软件要求
- **Android Studio**: 3.0及以上版本
- **JDK**: 1.8版本
- **Gradle**: 4.6版本
- **SDK Tools**: 最新版本
- **SDK Platform**: Android 9.0 (API Level 28)

### 硬件要求
- **RAM**: 至少8GB，推荐16GB
- **存储空间**: 至少10GB可用空间
- **显示器**: 1080p分辨率或更高

## 构建配置

### 签名配置
项目包含两种签名配置：
1. **releaseConfig**: 正式版签名
2. **debugConfig**: 调试版签名

### 构建变体
项目支持多种构建变体：
- **debug**: 调试版本
- **release**: 正式版本
- **stage**: 测试版本
- **unstage**: 预发布版本

### 多渠道打包
支持多渠道打包，包含多个市场渠道：
- 应用宝、华为、小米、OPPO、Vivo等主流应用市场
- 自定义渠道配置

## 构建指令

```
# 清理项目
./gradlew clean

# 编译Debug版本
./gradlew assembleDebug

# 编译Release版本
./gradlew assembleRelease

# 编译所有变体
./gradlew assemble

# 运行单元测试
./gradlew test

# 运行Android测试
./gradlew connectedAndroidTest
```

## 注意事项

1. 项目中包含多个渠道配置，可根据需要进行定制
2. 集成了多家推送服务商(个推、小米、华为、魅族、OPPO)，可根据设备类型自动适配
3. 使用了阿里云热修复功能，支持在线修复bug
4. 集成了支付宝支付功能，支持应用内购买

## 核心功能模块详解

### 1. 用户系统
- **登录注册**: 支持手机号注册登录
- **个人信息管理**: 头像、昵称、标签等设置
- **实名认证**: 身份验证功能
- **隐私设置**: 隐私权限控制

### 2. 即时通讯
- **文字聊天**: 支持表情、图片、语音消息
- **语音通话**: 高质量实时语音通话
- **视频通话**: 高清视频通话功能
- **群聊功能**: 多人聊天室

### 3. 社交广场
- **动态发布**: 文字、图片、视频动态发布
- **点赞评论**: 互动功能
- **关注系统**: 用户关注和粉丝系统
- **话题讨论**: 热门话题参与

### 4. 钱包系统
- **余额管理**: 充值、提现功能
- **金币系统**: 金币获取和消费
- **红包功能**: 红包发送和领取
- **账单记录**: 交易明细查询

### 5. 任务系统
- **日常任务**: 签到、聊天等日常任务
- **新手任务**: 引导新用户完成特定操作
- **邀请奖励**: 邀请好友获得奖励
- **等级体系**: 用户等级和特权

## 部署说明

### 服务器要求
- 稳定的网络连接
- 支持HTTP/HTTPS协议
- 数据库支持（根据后端技术栈确定）

### 环境配置
1. 配置环信IM服务
2. 配置个推推送服务
3. 配置阿里云热修复服务
4. 配置友盟统计分析
5. 配置支付宝支付服务

### 发布流程
1. 代码审查和测试
2. 构建Release版本
3. 多渠道打包
4. 应用市场上传
5. 灰度发布策略

## 维护和更新

### 版本管理
- 遵循语义化版本控制规范
- 主版本号.次版本号.修订号 (如 1.7.2)

### 热修复支持
- 使用阿里云热修复服务
- 支持在线修复bug
- 支持功能动态更新

### 性能监控
- 集成友盟统计分析
- 用户行为数据收集
- 应用性能监控

## 常见问题和解决方案

### 网络连接问题
1. 检查网络权限配置
2. 确认服务器地址正确
3. 检查防火墙设置
4. 验证SSL证书配置

### 音视频通话问题
1. 检查相机和麦克风权限
2. 确认硬件设备正常
3. 检查网络带宽
4. 验证编解码器支持

### 推送通知问题
1. 检查个推服务配置
2. 确认各厂商推送适配
3. 验证推送权限设置
4. 检查后台服务状态

## 版本信息

当前版本: 1.7.2 (版本代码: 172)

## 贡献指南

我们欢迎任何形式的贡献，包括但不限于：

### 代码贡献
1. Fork项目到您的GitHub账户
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

### 报告问题
- 使用GitHub Issues报告bug
- 提供详细的复现步骤
- 包含环境信息和错误日志

### 功能建议
- 提交功能请求Issue
- 详细描述功能需求
- 提供使用场景说明

## 许可证

本项目采用专有许可证，所有权利保留。

未经授权，禁止复制、修改、分发或使用本项目的任何部分。

## 联系方式

项目维护者: niushiqi  
项目地址: https://github.com/niushiqi/liaodede